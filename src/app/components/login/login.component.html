<div class="modal-header">
  <h4 class="text-center">Zaloguj się</h4>
  <div
    ngbAutofocus
    class="btn-close btn-close-white"
    style="cursor: pointer"
    aria-label="Close"
    (click)="activeModal.dismiss('Cross click')"
  ></div>
</div>
<div class="modal-body">
  <form [formGroup]="loginForm" class="registration__form big" *ngIf="!user">
    <div class="d-flex w-100 justify-content-around align-items-center">
      <label for="username" class="text-center" style="width: 45px"
        >Email:
      </label>
      <input type="text" id="username" formControlName="username" />
    </div>
    <div
      class="d-flex flex-column align-items-start justify-content-center"
      *ngIf="
        loginForm.get('username')?.invalid &&
        (loginForm.get('username')?.dirty || loginForm.get('username')?.touched)
      "
    >
      <div *ngIf="loginForm.get('username')?.hasError('required')">
        Email jest wymagany.
      </div>
      <div *ngIf="loginForm.get('username')?.hasError('minlength')">
        Email musi zawierać co najmniej 4 znaki.
      </div>
      <div *ngIf="loginForm.get('username')?.hasError('email')">
        Podaj poprawny adres email.
      </div>
    </div>

    <div class="d-flex w-100 justify-content-around align-items-center">
      <label for="password" class="text-center" style="width: 45px"
        >Hasło:</label
      >
      <input
        type="{{ showPassword ? 'text' : 'password' }}"
        id="password"
        formControlName="password"
        class="password-input"
      />
      <span
        class="toggle__password bi"
        [ngClass]="{ 'bi-eye': !showPassword, 'bi-eye-slash': showPassword }"
        (click)="togglePassword()"
      ></span>
    </div>
    <div
      class="d-flex flex-column align-items-start justify-content-center"
      *ngIf="
        loginForm.get('password')?.invalid &&
        (loginForm.get('password')?.dirty || loginForm.get('password')?.touched)
      "
    >
      <div *ngIf="loginForm.get('password')?.hasError('required')">
        Hasło jest wymagane.
      </div>
      <div *ngIf="loginForm.get('password')?.hasError('minlength')">
        Hasło musi zawierać co najmniej 6 znaków.
      </div>
    </div>
  </form>
  <div
    *ngIf="!user"
    class="d-flex flex-row align-items-center justify-content-around mt-3"
  >
    <button type="submit" (click)="onLogin()">Zaloguj</button>
    <button type="submit" (click)="onCancel()">Anuluj</button>
  </div>
</div>
