<div class="modal-header">
  <h4 class="text-center">Zarejestruj się</h4>
  <div ngbAutofocus
    class="btn-close btn-close-white"
    style="cursor: pointer;"
    aria-label="Close"
    (click)="activeModal.dismiss('Cross click')"
  ></div>
</div>
<div class="modal-body">
  <form
    [formGroup]="registrationForm"
    class="registration__form big"
    *ngIf="!user"
  >
    <div class="d-flex w-100 justify-content-around align-items-center">
      <label for="name" class="text-center" style="width: 45px">Imię: </label>
      <input type="text" id="name" formControlName="name" />
    </div>
    <div
      class="d-flex flex-column align-items-start justify-content-center"
      *ngIf="
        registrationForm.get('name')?.invalid &&
        (registrationForm.get('name')?.dirty ||
          registrationForm.get('name')?.touched)
      "
    >
      <div *ngIf="registrationForm.get('name')?.hasError('required')">
        Imię jest wymagane.
      </div>
      <div *ngIf="registrationForm.get('name')?.hasError('minlength')">
        Imię musi zawierać co najmniej 4 znaki.
      </div>
    </div>
    <div class="d-flex w-100 justify-content-around align-items-center">
      <label for="username" class="text-center" style="width: 45px"
        >Email:
      </label>
      <input
        type="text"
        id="username"
        formControlName="username"
      />
    </div>
    <div
      class="d-flex flex-column align-items-start justify-content-center"
      *ngIf="
        registrationForm.get('username')?.invalid &&
        (registrationForm.get('username')?.dirty ||
          registrationForm.get('username')?.touched)
      "
    >
      <div *ngIf="registrationForm.get('username')?.hasError('required')">
        Email jest wymagany.
      </div>
      <div *ngIf="registrationForm.get('username')?.hasError('minlength')">
        Email musi zawierać co najmniej 4 znaki.
      </div>
      <div *ngIf="registrationForm.get('username')?.hasError('email')">
        Podaj poprawny adres email.
      </div>
    </div>

    <div class="d-flex w-100 justify-content-around align-items-center">
      <label for="password" class="text-center" style="width: 45px"
        >Hasło:</label
      >
      <input
        type="{{ showPassword ? 'text' : 'password' }}"
        id="password"
        formControlName="password"
        class="password-input"
      />
      <span
        class="toggle__password bi"
        [ngClass]="{ 'bi-eye': !showPassword, 'bi-eye-slash': showPassword }"
        (click)="togglePassword()"
      ></span>
    </div>
    <div
      class="d-flex flex-column align-items-start justify-content-center"
      *ngIf="
        registrationForm.get('password')?.invalid &&
        (registrationForm.get('password')?.dirty ||
          registrationForm.get('password')?.touched)
      "
    >
      <div *ngIf="registrationForm.get('password')?.hasError('required')">
        Hasło jest wymagane.
      </div>
      <div *ngIf="registrationForm.get('password')?.hasError('minlength')">
        Hasło musi zawierać co najmniej 6 znaków.
      </div>
    </div>
  </form>
  <div *ngIf="!user" class="d-flex flex-row align-items-center justify-content-around mt-3">
    <button type="submit" (click)="onRegister()">Załóż konto</button>
    <button type="submit" (click)="onCancel()">Anuluj</button>
  </div>
</div>
